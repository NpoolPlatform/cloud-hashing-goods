syntax = "proto3";

package cloud.hashing.goods.v1;

option go_package = "github.com/NpoolPlatform/cloud-hashing-goods/message/npool";

import "google/api/annotations.proto";
import "google/protobuf/empty.proto";

// Cloud Hashing Goods
service CloudHashingGoods {
    // Method Version
    rpc Version (google.protobuf.Empty) returns (VersionResponse){
        option (google.api.http) = {
            get: "/version"
        };
    }

    rpc CreateVendorLocation(CreateVendorLocationRequest) returns (CreateVendorLocationResponse) {
        option (google.api.http) = {
            post: "/v1/vendor-location"
            body: "*"
        };
    }
    rpc UpdateVendorLocation(UpdateVendorLocationRequest) returns (UpdateVendorLocationResponse) {
        option (google.api.http) = {
            patch: "/v1/vendor-location"
            body: "*"
        };
    }
    rpc GetVendorLocations(google.protobuf.Empty) returns (GetVendorLocationsResponse) {
        option (google.api.http) = {
            get: "/v1/vendor-locations"
        };
    }

    rpc CreateTargetArea(CreateTargetAreaRequest) returns (CreateTargetAreaResponse) {
        option (google.api.http) = {
            post: "/v1/target-area"
            body: "*"
        };
    }
    rpc UpdateTargetArea(UpdateTargetAreaRequest) returns (UpdateTargetAreaResponse) {
        option (google.api.http) = {
            patch: "/v1/target-area"
            body: "*"
        };
    }
    rpc GetTargetAreas(google.protobuf.Empty) returns (GetTargetAreasResponse) {
        option (google.api.http) = {
            get: "/v1/target-areas"
        };
    }

    rpc CreateDeviceInfo(CreateDeviceInfoRequest) returns (CreateDeviceInfoResponse) {
        option (google.api.http) = {
            post: "/v1/device"
            body: "*"
        };
    }
    rpc UpdateDeviceInfo(UpdateDeviceInfoRequest) returns (UpdateDeviceInfoResponse) {
        option (google.api.http) = {
            patch: "/v1/device"
            body: "*"
        };
    }
    rpc GetDeviceInfos(google.protobuf.Empty) returns (GetDeviceInfosResponse) {
        option (google.api.http) = {
            get: "/v1/device"
        };
    }
}

// Request body and response
message VersionResponse {
    string Info = 100;
}

message VendorLocationInfo {
    string ID = 200;
    string Country = 201;
    string Province = 202;
    string City = 203;
    string Address = 204;
}

message CreateVendorLocationRequest {
    VendorLocationInfo Info = 300;
}

message CreateVendorLocationResponse {
    VendorLocationInfo Info = 400;
}

message UpdateVendorLocationRequest {
    VendorLocationInfo Info = 500;
}

message UpdateVendorLocationResponse {
    VendorLocationInfo Info = 600;
}

message GetVendorLocationsResponse {
    repeated VendorLocationInfo Infos = 700;
}

message TargetAreaInfo {
    string ID = 800;
    string Continent = 801;
    string Country = 802;
}

message CreateTargetAreaRequest {
    TargetAreaInfo Info = 900;
}

message CreateTargetAreaResponse {
    TargetAreaInfo Info = 1000;
}

message UpdateTargetAreaRequest {
    TargetAreaInfo Info = 900;
}

message UpdateTargetAreaResponse {
    TargetAreaInfo Info = 1000;
}

message GetTargetAreasResponse {
    repeated TargetAreaInfo Infos = 1100;
}

message DeviceInfo {
    string ID = 1200;
    string Type = 1201;
    string Manufacturer = 1202;
    float PowerComsuption = 1203;
    int64 ShipmentTimestamp = 1204;
}

message CreateDeviceInfoRequest {
    DeviceInfo Info = 1300;
}

message CreateDeviceInfoResponse {
    DeviceInfo Info = 1400;
}

message UpdateDeviceInfoRequest {
    DeviceInfo Info = 1500;
}

message UpdateDeviceInfoResponse {
    DeviceInfo Info = 1600;
}

message GetDeviceInfosResponse {
    repeated DeviceInfo Infos = 1700;
}
